//>>built
define("lsmb/DateTextBox",["dijit/form/DateTextBox","dojo/date/locale","dojo/i18n","dojo/_base/declare"],function(e,t,a,i){var r=/^\d\d\d\d-\d\d-\d\d$/;return i("lsmb/DateTextBox",[e],{_formattedValue:null,constructor:function(e,i){if(this._formattedValue=i.value,e.constraints||(e.constraints={}),!e.constraints.datePattern&&lsmbConfig.dateformat&&(e.constraints.datePattern=lsmbConfig.dateformat.replace(/mm/,"MM")),!e.placeholder&&lsmbConfig.dateformat&&(e.placeholder=lsmbConfig.dateformat),!e.placeholder){var r=a.normalizeLocale(e.locale),d=e.formatLength||"short",o=t._getGregorianBundle(r);e.placeholder="year"==e.constraints.selector?o["dateFormatItem-yyyy"]||"yyyy":"time"==e.constraints.selector?e.constraints.timePattern||o["timeFormat-"+d]:e.constraints.datePattern||o["dateFormat-"+d],e.placeholder=e.placeholder.replace(/M/g,"m").replace(/y/g,"yy")}},postMixInProperties:function(){this.inherited(arguments),!this._formattedValue||this.value&&r.test(this.value)||(this.value=this.parse(this._formattedValue,this.constraints))},parse:function(e){return r.test(e)?t.parse(e,{datePattern:"yyyy-MM-dd",selector:"date"}):this.inherited(arguments)}})});//# sourceMappingURL=DateTextBox.js.map