//>>built
require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n	<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n		<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n				role="heading" level="1"></span>\n		<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="-1">\n			<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n		</span>\n	</div>\n	<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n	${!actionBarTemplate}\n</div>\n\n'}}),define("dijit/Dialog",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/touch","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(e,a,t,r,i,d,o,l,n,m,s,f,u,y,M,v,h,c,g,p,b,w,F,k,I,E,G,j,A,z,_){function T(){}var Q=new i;Q.resolve(!0);var S=r("dijit._DialogBase"+(v("dojo-bidi")?"_NoBidi":""),[k,E,G,I],{templateString:_,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:w.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(e){this._set("draggable",e)},maxRatio:.9,closable:!0,_setClosableAttr:function(e){this.closeButtonNode.style.display=e?"":"none",this._set("closable",e)},postMixInProperties:function(){var e=s.getLocalization("dijit","common");u.mixin(this,e),this.inherited(arguments)},postCreate:function(){n.set(this.domNode,{display:"none",position:"absolute"}),this.ownerDocumentBody.appendChild(this.domNode),this.inherited(arguments),t.after(this,"onExecute",u.hitch(this,"hide"),!0),t.after(this,"onCancel",u.hitch(this,"hide"),!0),y(this.closeButtonNode,h.press,function(e){e.stopPropagation()}),this._modalconnects=[]},onLoad:function(){this.resize(),this._position(),this.autofocus&&q.isTop(this)&&(this._getFocusItems(),b.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){this._getFocusItems(),b.focus(this._firstFocusItem)},_endDrag:function(){var e=l.position(this.domNode),a=c.getBox(this.ownerDocument);e.y=Math.min(Math.max(e.y,0),a.h-e.h),e.x=Math.min(Math.max(e.x,0),a.w-e.w),this._relativePosition=e,this._position()},_setup:function(){var e=this.domNode;this.titleBar&&this.draggable?(this._moveable=new(6==v("ie")?p:g)(e,{handle:this.titleBar}),t.after(this._moveable,"onMoveStop",u.hitch(this,"_endDrag"),!0)):o.add(e,"dijitDialogFixed"),this.underlayAttrs={dialogId:this.id,"class":a.map(this["class"].split(/\s/),function(e){return e+"_underlay"}).join(" "),_onKeyDown:u.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!o.contains(this.ownerDocumentBody,"dojoMove")){var e=this.domNode,a=c.getBox(this.ownerDocument),t=this._relativePosition,r=l.position(e),i=Math.floor(a.l+(t?Math.min(t.x,a.w-r.w):(a.w-r.w)/2)),d=Math.floor(a.t+(t?Math.min(t.y,a.h-r.h):(a.h-r.h)/2));n.set(e,{left:i+"px",top:d+"px"})}},_onKey:function(e){if(e.keyCode==f.TAB){this._getFocusItems();var a=e.target;this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),e.preventDefault()):a==this._firstFocusItem&&e.shiftKey?(b.focus(this._lastFocusItem),e.stopPropagation(),e.preventDefault()):a!=this._lastFocusItem||e.shiftKey||(b.focus(this._firstFocusItem),e.stopPropagation(),e.preventDefault())}else this.closable&&e.keyCode==f.ESCAPE&&(this.onCancel(),e.stopPropagation(),e.preventDefault())},show:function(){if(this.open)return Q.promise;this._started||this.startup(),this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),q.hide(this));var e=c.get(this.ownerDocument);this._modalconnects.push(y(e,"scroll",u.hitch(this,"resize",null))),this._modalconnects.push(y(this.domNode,"keydown",u.hitch(this,"_onKey"))),n.set(this.domNode,{opacity:0,display:""}),this._set("open",!0),this._onShow(),this.resize(),this._position();var a;this._fadeInDeferred=new i(u.hitch(this,function(){a.stop(),delete this._fadeInDeferred})),this._fadeInDeferred.then(void 0,T);var t=this._fadeInDeferred.promise;return a=m.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:u.hitch(this,function(){q.show(this,this.underlayAttrs)}),onEnd:u.hitch(this,function(){this.autofocus&&q.isTop(this)&&(this._getFocusItems(),b.focus(this._firstFocusItem)),this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred})}).play(),t},hide:function(){if(!this._alreadyInitialized||!this.open)return Q.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var e;this._fadeOutDeferred=new i(u.hitch(this,function(){e.stop(),delete this._fadeOutDeferred})),this._fadeOutDeferred.then(void 0,T),this._fadeOutDeferred.then(u.hitch(this,"onHide"));var a=this._fadeOutDeferred.promise;e=m.fadeOut({node:this.domNode,duration:this.duration,onEnd:u.hitch(this,function(){this.domNode.style.display="none",q.hide(this),this._fadeOutDeferred.resolve(!0),delete this._fadeOutDeferred})}).play(),this._scrollConnected&&(this._scrollConnected=!1);for(var t;t=this._modalconnects.pop();)t.remove();return this._relativePosition&&delete this._relativePosition,this._set("open",!1),a},resize:function(e){if("none"!=this.domNode.style.display){if(this._checkIfSingleChild(),!e){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),a.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(e){e&&n.set(e,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var t=c.getBox(this.ownerDocument);t.w*=this.maxRatio,t.h*=this.maxRatio;var r=l.position(this.domNode);r.w>=t.w||r.h>=t.h?(e={w:Math.min(r.w,t.w),h:Math.min(r.h,t.h)},this._shrunk=!0):this._shrunk=!1}if(e){l.setMarginBox(this.domNode,e);var i=[];this.titleBar&&i.push({domNode:this.titleBar,region:"top"}),this.actionBarNode&&i.push({domNode:this.actionBarNode,region:"bottom"});var d={domNode:this.containerNode,region:"center"};i.push(d);var o=z.marginBox2contentBox(this.domNode,e);if(z.layoutChildren(this.domNode,o,i),this._singleChild){var m=z.marginBox2contentBox(this.containerNode,d);this._singleChild.resize({w:m.w,h:m.h})}else this.containerNode.style.overflow="auto",this._layoutChildren()}else this._layoutChildren();v("touch")||e||this._position()}},_layoutChildren:function(){a.forEach(this.getChildren(),function(e){e.resize&&e.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),this._moveable&&this._moveable.destroy();for(var e;e=this._modalconnects.pop();)e.remove();q.hide(this),this.inherited(arguments)}});v("dojo-bidi")&&(S=r("dijit._DialogBase",S,{_setTitleAttr:function(e){this._set("title",e),this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),this.set("title",this.title))}}));var H=r("dijit.Dialog",[A,S],{});H._DialogBase=S;var q=H._DialogLevelManager={_beginZIndex:950,show:function(e,a){D[D.length-1].focus=b.curNode;var t=D[D.length-1].dialog?D[D.length-1].zIndex+2:H._DialogLevelManager._beginZIndex;n.set(e.domNode,"zIndex",t),j.show(a,t-1),D.push({dialog:e,underlayAttrs:a,zIndex:t})},hide:function(e){if(D[D.length-1].dialog==e){D.pop();var t=D[D.length-1];if(1==D.length?j.hide():j.show(t.underlayAttrs,t.zIndex-1),e.refocus){var r=t.focus;if(!t.dialog||r&&d.isDescendant(r,t.dialog.domNode)||(t.dialog._getFocusItems(),r=t.dialog._firstFocusItem),r)try{r.focus()}catch(i){}}}else{var o=a.indexOf(a.map(D,function(e){return e.dialog}),e);-1!=o&&D.splice(o,1)}},isTop:function(e){return D[D.length-1].dialog==e}},D=H._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return b.watch("curNode",function(e,a,t){var r=D[D.length-1].dialog;if(t&&r&&!r._fadeOutDeferred&&t.ownerDocument==r.ownerDocument){do if(t==r.domNode||o.contains(t,"dijitPopup"))return;while(t=t.parentNode);r.focus()}}),v("dijit-legacy-requires")&&M(0,function(){var a=["dijit/TooltipDialog"];e(a)}),H});//# sourceMappingURL=Dialog.js.map