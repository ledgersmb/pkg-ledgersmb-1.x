//>>built
define("dijit/_editor/plugins/TextColor",["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(e,t,a,i,r,d){var o=a("dijit._editor.plugins.TextColor",r,{buttonClass:d,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name,this.inherited(arguments);var t=this;this.button.loadDropDown=function(a){function i(e){t.button.dropDown=new e({dir:t.editor.dir,ownerDocument:t.editor.ownerDocument,value:t.value,onChange:function(e){t.editor.execCommand(t.command,e)},onExecute:function(){t.editor.execCommand(t.command,this.get("value"))}}),a()}"string"==typeof t.colorPicker?e([t.colorPicker],i):i(t.colorPicker)}},updateState:function(){var e=this.editor,a=this.command;if(e&&e.isLoaded&&a.length){if(this.button){var i=this.get("disabled");if(this.button.set("disabled",i),i)return;var r;try{r=e.queryCommandValue(a)||""}catch(d){r=""}}""==r&&(r="#000000"),"transparent"==r&&(r="#ffffff"),"string"==typeof r?r.indexOf("rgb")>-1&&(r=t.fromRgb(r).toHex()):(r=(255&r)<<16|65280&r|(16711680&r)>>>16,r=r.toString(16),r="#000000".slice(0,7-r.length)+r),this.value=r;var o=this.button.dropDown;o&&o.get&&r!==o.get("value")&&o.set("value",r,!1)}}});return r.registry.foreColor=function(e){return new o(e)},r.registry.hiliteColor=function(e){return new o(e)},o});//# sourceMappingURL=TextColor.js.map