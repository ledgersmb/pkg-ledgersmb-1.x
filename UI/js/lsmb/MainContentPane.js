//>>built
define("lsmb/MainContentPane",["dijit/layout/ContentPane","dojo/_base/declare","dojo/_base/event","dijit/registry","dojo/dom-style","dojo/_base/lang","dojo/promise/Promise","dojo/on","dojo/hash","dojo/promise/all","dojo/request/xhr","dojo/query","dojo/request/iframe","dojo/dom-class"],function(e,t,a,i,r,d,o,n,l,s,m,u,f,h){return t("lsmb/MainContentPane",[e],{last_page:null,interceptClick:null,report_request_error:function(e){var t=i.byId("errorDialog");0===e.response.status?t.set("content","Could not connect to server"):t.set("content",e.response.data),t.show()},report_error:function(e){var t=i.byId("errorDialog");t.set("content",e),t.show()},set_main_div:function(e){var t=this,a=e.match(/<body[^>]*>([\s\S]*)(<\/body>)?/i);if(!a)return void this.report_error("Invalid server response: document lacks BODY tag");var i=a?a[1]:"";return this.set("content",i).then(function(){t.show_main_div()},function(){t.report_error("Server return value invalid")})},load_form:function(e,t){var a=this;return a.fade_main_div(),m(e,t).then(function(e){a.hide_main_div(),a.set_main_div(e)},function(e){a.show_main_div(),a.report_request_error(e)})},download_link:function(){},load_link:function(e){return this.last_page!=e?(this.last_page=e,this.load_form(e,{handlesAs:"text"})):void 0},fade_main_div:function(){h.replace(this.domNode,"parsing","done-parsing"),r.set(this.domNode,"opacity","0.3")},hide_main_div:function(){r.set(this.domNode,"visibility","hidden")},show_main_div:function(){r.set(this.domNode,"visibility","visible"),r.set(this.domNode,"opacity","1"),h.replace(this.domNode,"done-parsing","parsing")},set:function(){var e=null,t=0,a=null,i=this;if(1===arguments.length&&d.isObject(arguments[0])&&null!==arguments[0].content?(e=arguments[0].content,delete arguments[0].content):1===arguments.length&&d.isString(arguments[0])?(e=arguments[0],t=!0):2===arguments.length&&"content"==arguments[0]&&(e=arguments[1],t=!0),null!==e&&(a=this.inherited("set",arguments,["content",e]).then(function(){u("a",i.domNode).forEach(i.interceptClick),i.show_main_div()})),t)return a;var r=this.inherited(arguments);return null!==a&&a instanceof o&&null!==r&&r instanceof o?s([a,r]):null!==a&&a instanceof o?a:r}})});//# sourceMappingURL=MainContentPane.js.map