//>>built
define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(e,a,t){"use strict";var r=e.some;return function(e){var i,d;e instanceof Array?d=e:e&&"object"==typeof e&&(i=e);var l,o=[];if(i){d=[];for(var n in i)Object.hasOwnProperty.call(i,n)&&(o.push(n),d.push(i[n]));l={}}else d&&(l=[]);if(!d||!d.length)return(new a).resolve(l);var m=new a;m.promise.always(function(){l=o=null});var s=d.length;return r(d,function(e,a){return i||o.push(a),t(e,function(e){m.isFulfilled()||(l[o[a]]=e,0===--s&&m.resolve(l))},m.reject),m.isFulfilled()}),m.promise}});//# sourceMappingURL=all.js.map