//>>built
define("lsmb/Form","dijit/form/Form dojo/_base/declare dojo/_base/event dojo/on dojo/hash dojo/dom-attr dojo/dom-form dojo/query dijit/registry".split(" "),function(f,g,h,k,l,m,d,n,p){var e=0;return g("lsmb/Form",[f],{clickedAction:null,startup:function(){var a=this;this.inherited(arguments);n('input[type\x3d"submit"]',this.domNode).forEach(function(b){k(b,"click",function(){a.clickedAction=m.get(b,"value")})})},onSubmit:function(a){h.stop(a);this.submit()},submit:function(){if(this.validate()){var a=
"undefined"===typeof this.method?"GET":this.method,b=this.action,c={handleAs:"text"};"get"===a.toLowerCase()?(e++,a=d.toQuery(this.domNode),a="action\x3d"+this.clickedAction+"\x26"+a,b=b+"?"+a+"#"+e.toString(16),l(b)):(c.method=a,"multipart/form-data"==this.domNode.enctype?(c.data=new FormData(this.domNode),c.data.append("action",this.clickedAction)):c.data="action\x3d"+this.clickedAction+"\x26"+d.toQuery(this.domNode),p.byId("maindiv").load_form(b,c))}}})});
//# sourceMappingURL=Form.js.map