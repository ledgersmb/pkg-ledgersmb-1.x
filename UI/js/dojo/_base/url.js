//>>built
define("dojo/_base/url",["./kernel"],function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),n=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),r=function(){for(var e=null,o=arguments,i=[o[0]],a=1;a<o.length;a++)if(o[a]){var s=new r(o[a]+""),c=new r(i[0]+"");if(""!=s.path||s.scheme||s.authority||s.query){if(!s.scheme&&(s.scheme=c.scheme,!s.authority&&(s.authority=c.authority,"/"!=s.path.charAt(0)))){for(var u=c.path.substring(0,c.path.lastIndexOf("/")+1)+s.path,d=u.split("/"),l=0;l<d.length;l++)"."==d[l]?l==d.length-1?d[l]="":(d.splice(l,1),l--):l>0&&(1!=l||""!=d[0])&&".."==d[l]&&".."!=d[l-1]&&(l==d.length-1?(d.splice(l,1),d[l-1]=""):(d.splice(l-1,2),l-=2));s.path=d.join("/")}}else s.fragment!=e&&(c.fragment=s.fragment),s=c;i=[],s.scheme&&i.push(s.scheme,":"),s.authority&&i.push("//",s.authority),i.push(s.path),s.query&&i.push("?",s.query),s.fragment&&i.push("#",s.fragment)}this.uri=i.join("");var f=this.uri.match(t);this.scheme=f[2]||(f[1]?"":e),this.authority=f[4]||(f[3]?"":e),this.path=f[5],this.query=f[7]||(f[6]?"":e),this.fragment=f[9]||(f[8]?"":e),this.authority!=e&&(f=this.authority.match(n),this.user=f[3]||e,this.password=f[4]||e,this.host=f[6]||f[7],this.port=f[9]||e)};return r.prototype.toString=function(){return this.uri},e._Url=r});//# sourceMappingURL=url.js.map