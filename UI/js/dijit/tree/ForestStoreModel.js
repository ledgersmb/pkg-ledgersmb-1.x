//>>built
define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(e,t,a,i,r){return t("dijit.tree.ForestStoreModel",r,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(e){this.root={store:this,root:!0,id:e.rootId,label:e.rootLabel,children:e.rootChildren}},mayHaveChildren:function(e){return e===this.root||this.inherited(arguments)},getChildren:function(e,t,a){e===this.root?this.root.children?t(this.root.children):this.store.fetch({query:this.query,onComplete:i.hitch(this,function(e){this.root.children=e,t(e)}),onError:a}):this.inherited(arguments)},isItem:function(e){return e===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(e){if(e.identity==this.root.id){var t=e.scope||a.global;e.onItem&&e.onItem.call(t,this.root)}else this.inherited(arguments)},getIdentity:function(e){return e===this.root?this.root.id:this.inherited(arguments)},getLabel:function(e){return e===this.root?this.root.label:this.inherited(arguments)},newItem:function(e,t){return t===this.root?(this.onNewRootItem(e),this.store.newItem(e)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(e,t,a,i,r){t===this.root&&(i||this.onLeaveRoot(e)),this.inherited(arguments,[e,t===this.root?null:t,a===this.root?null:a,i,r]),a===this.root&&this.onAddToRoot(e)},onAddToRoot:function(e){},onLeaveRoot:function(e){},_requeryTop:function(){var t=this.root.children||[];this.store.fetch({query:this.query,onComplete:i.hitch(this,function(a){this.root.children=a,(t.length!=a.length||e.some(t,function(e,t){return a[t]!=e}))&&this.onChildrenChange(this.root,a)})})},onNewItem:function(){this._requeryTop(),this.inherited(arguments)},onDeleteItem:function(t){-1!=e.indexOf(this.root.children,t)&&this._requeryTop(),this.inherited(arguments)},onSetItem:function(){this._requeryTop(),this.inherited(arguments)}})});//# sourceMappingURL=ForestStoreModel.js.map