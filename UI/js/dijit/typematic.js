//>>built
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(e,t,a,r,i,d){var o=d.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),this._timer=setTimeout(a.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(e,t,r,i,d,o,n,l){if(d!=this._obj){this.stop(),this._initialDelay=n||500,this._subsequentDelay=o||.9,this._minDelay=l||10,this._obj=d,this._node=r,this._currentTimeout=-1,this._count=-1,this._callback=a.hitch(t,i),this._evt={faux:!0};for(var s in e)if("layerX"!=s&&"layerY"!=s){var m=e[s];"function"!=typeof m&&"undefined"!=typeof m&&(this._evt[s]=m)}this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(i,d,n,l,s,m,f){var u="keyCode"in d?"keydown":"charCode"in d?"keypress":t._keypress,y="keyCode"in d?"keyCode":"charCode"in d?"charCode":"charOrCode",h=[r(i,u,a.hitch(this,function(e){e[y]!=d[y]||void 0!==d.ctrlKey&&d.ctrlKey!=e.ctrlKey||void 0!==d.altKey&&d.altKey!=e.altKey||void 0!==d.metaKey&&d.metaKey!=(e.metaKey||!1)||void 0!==d.shiftKey&&d.shiftKey!=e.shiftKey?o._obj==d&&o.stop():(e.stopPropagation(),e.preventDefault(),o.trigger(e,n,i,l,d,s,m,f))})),r(i,"keyup",a.hitch(this,function(){o._obj==d&&o.stop()}))];return{remove:function(){e.forEach(h,function(e){e.remove()})}}},addMouseListener:function(t,d,n,l,s,m){var f=[r(t,"mousedown",a.hitch(this,function(e){e.preventDefault(),o.trigger(e,d,t,n,t,l,s,m)})),r(t,"mouseup",a.hitch(this,function(e){this._obj&&e.preventDefault(),o.stop()})),r(t,"mouseout",a.hitch(this,function(e){this._obj&&e.preventDefault(),o.stop()})),r(t,"dblclick",a.hitch(this,function(e){e.preventDefault(),i("ie")<9&&(o.trigger(e,d,t,n,t,l,s,m),setTimeout(a.hitch(this,o.stop),50))}))];return{remove:function(){e.forEach(f,function(e){e.remove()})}}},addListener:function(t,a,r,i,d,o,n,l){var s=[this.addKeyListener(a,r,i,d,o,n,l),this.addMouseListener(t,i,d,o,n,l)];return{remove:function(){e.forEach(s,function(e){e.remove()})}}}};return o});//# sourceMappingURL=typematic.js.map