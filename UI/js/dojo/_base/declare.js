//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,n){function r(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function o(e,t){for(var n,o,i,a,s,c,u,d,l=[],f=[{cls:0,refs:[]}],h={},p=1,g=e.length,m=0;g>m;++m){for(i=e[m],i?"[object Function]"!=j.call(i)&&r("mixin #"+m+" is not a callable constructor.",t):r("mixin #"+m+" is unknown. Did you use dojo.require to pull it in?",t),o=i._meta?i._meta.bases:[i],a=0,n=o.length-1;n>=0;--n)s=o[n].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+C++),u=s.declaredClass,h.hasOwnProperty(u)||(h[u]={count:0,refs:[],cls:o[n]},++p),c=h[u],a&&a!==c&&(c.refs.push(a),++a.count),a=c;++a.count,f[0].refs.push(a)}for(;f.length;){for(a=f.pop(),l.push(a.cls),--p;d=a.refs,1==d.length;){if(a=d[0],!a||--a.count){a=0;break}l.push(a.cls),--p}if(a)for(m=0,g=d.length;g>m;++m)a=d[m],--a.count||f.push(a)}return p&&r("can't build consistent linearization",t),i=e[0],l[0]=i?i._meta&&i===l[l.length-i._meta.bases.length]?i._meta.bases.length:1:0,l}function i(e,t,n,o){var i,a,s,c,u,d,l,f,h,p=this._inherited=this._inherited||{};if("string"==typeof e&&(i=e,e=t,t=n,n=o),"function"==typeof e)c=e,e=t,t=n;else try{c=e.callee}catch(g){if(!(g instanceof TypeError))throw g;r("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass)}if(i=i||c.nom,i||r("can't deduce a name to call inherited()",this.declaredClass),n=o=0,u=this.constructor._meta,s=u.bases,h=p.p,i!=T){if(p.c!==c&&(h=0,d=s[0],u=d._meta,u.hidden[i]!==c)){a=u.chains,a&&"string"==typeof a[i]&&r("calling chained method with inherited: "+i,this.declaredClass);do if(u=d._meta,l=d.prototype,u&&(l[i]===c&&l.hasOwnProperty(i)||u.hidden[i]===c))break;while(d=s[++h]);h=d?h:-1}if(d=s[++h])if(l=d.prototype,d._meta&&l.hasOwnProperty(i))n=l[i];else{f=x[i];do if(l=d.prototype,n=l[i],n&&(d._meta?l.hasOwnProperty(i):n!==f))break;while(d=s[++h])}n=d&&n||x[i]}else{if(p.c!==c&&(h=0,u=s[0]._meta,u&&u.ctor!==c)){for(a=u.chains,a&&"manual"===a.constructor||r("calling chained constructor with inherited",this.declaredClass);(d=s[++h])&&(u=d._meta,!u||u.ctor!==c););h=d?h:-1}for(;(d=s[++h])&&(u=d._meta,!(n=u?u.ctor:d)););n=d&&n}return p.c=n,p.p=h,n?t===!0?n:n.apply(this,t||e):void 0}function a(e,t,n){return"string"==typeof e?"function"==typeof t?this.__inherited(e,t,n,!0):this.__inherited(e,t,!0):"function"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function s(e,t,n,r){var o=this.getInherited(e,t,n);return o?o.apply(this,r||n||t||e):void 0}function c(e){for(var t=this.constructor._meta.bases,n=0,r=t.length;r>n;++n)if(t[n]===e)return!0;return this instanceof e}function u(e,r){for(var o in r)o!=T&&r.hasOwnProperty(o)&&(e[o]=r[o]);if(t("bug-for-in-skips-shadowed"))for(var i=n._extraNames,a=i.length;a;)o=i[--a],o!=T&&r.hasOwnProperty(o)&&(e[o]=r[o])}function d(e,r){var o,i;for(o in r)i=r[o],i===x[o]&&o in x||o==T||("[object Function]"==j.call(i)&&(i.nom=o),e[o]=i);if(t("bug-for-in-skips-shadowed")&&r)for(var a=n._extraNames,s=a.length;s;)o=a[--s],i=r[o],i===x[o]&&o in x||o==T||("[object Function]"==j.call(i)&&(i.nom=o),e[o]=i);return e}function l(e){return b.safeMixin(this.prototype,e),this}function f(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],b([this].concat(e),t)}function h(e,t){return function(){var n,r,o,i,a=arguments,s=a,c=a[0],u=e.length;if(!(this instanceof a.callee))return y(a);if(t&&(c&&c.preamble||this.preamble))for(i=new Array(e.length),i[0]=a,r=0;c=a[0],c&&(n=c.preamble,n&&(a=n.apply(this,a)||a)),n=e[r].prototype,n=n.hasOwnProperty("preamble")&&n.preamble,n&&(a=n.apply(this,a)||a),++r!=u;)i[r]=a;for(r=u-1;r>=0;--r)n=e[r],o=n._meta,n=o?o.ctor:n,n&&n.apply(this,i?i[r]:a);n=this.postscript,n&&n.apply(this,s)}}function p(e,t){return function(){var n,r=arguments,o=r,i=r[0];return this instanceof r.callee?(t&&(i&&(n=i.preamble,n&&(o=n.apply(this,o)||o)),n=this.preamble,n&&n.apply(this,o)),e&&e.apply(this,r),n=this.postscript,void(n&&n.apply(this,r))):y(r)}}function g(e){return function(){var t,n,r=arguments,o=0;if(!(this instanceof r.callee))return y(r);for(;t=e[o];++o)if(n=t._meta,t=n?n.ctor:t){t.apply(this,r);break}t=this.postscript,t&&t.apply(this,r)}}function m(e,t,n){return function(){var r,o,i,a=0,s=1;for(n&&(a=t.length-1,s=-1);r=t[a];a+=s)o=r._meta,i=(o?o.hidden:r.prototype)[e],i&&i.apply(this,arguments)}}function v(e){_.prototype=e.prototype;var t=new _;return _.prototype=null,t}function y(e){var t=e.callee,n=v(t);return t.apply(n,e),n}function b(e,s,d){"string"!=typeof e&&(d=s,s=e,e=""),d=d||{};var y,_,C,N,k,A,L,S=1,D=s;if("[object Array]"==j.call(s)?(A=o(s,e),C=A[0],S=A.length-C,s=A[S]):(A=[0],s?"[object Function]"==j.call(s)?(C=s._meta,A=A.concat(C?C.bases:s)):r("base class is not a callable constructor.",e):null!==s&&r("unknown base class. Did you use dojo.require to pull it in?",e)),s)for(_=S-1;y=v(s),_;--_)C=A[_],(C._meta?u:w)(y,C.prototype),N=t("csp-restrictions")?function(){}:new Function,N.superclass=s,N.prototype=y,s=y.constructor=N;else y={};for(b.safeMixin(y,d),C=d.constructor,C!==x.constructor&&(C.nom=T,y.constructor=C),_=S-1;_;--_)C=A[_]._meta,C&&C.chains&&(L=w(L||{},C.chains));if(y["-chains-"]&&(L=w(L||{},y["-chains-"])),s&&s.prototype&&s.prototype["-chains-"]&&(L=w(L||{},s.prototype["-chains-"])),C=!L||!L.hasOwnProperty(T),A[0]=N=L&&"manual"===L.constructor?g(A):1==A.length?p(d.constructor,C):h(A,C),N._meta={bases:A,hidden:d,chains:L,parents:D,ctor:d.constructor},N.superclass=s&&s.prototype,N.extend=l,N.createSubclass=f,N.prototype=y,y.constructor=N,y.getInherited=a,y.isInstanceOf=c,y.inherited=E,y.__inherited=i,e&&(y.declaredClass=e,n.setObject(e,N)),L)for(k in L)y[k]&&"string"==typeof L[k]&&k!=T&&(C=y[k]=m(k,A,"after"===L[k]),C.nom=k);return N}var _,w=n.mixin,x=Object.prototype,j=x.toString,C=0,T="constructor";_=t("csp-restrictions")?function(){}:new Function;var E=e.config.isDebug?s:i;return e.safeMixin=b.safeMixin=d,e.declare=b,b});//# sourceMappingURL=declare.js.map