//>>built
define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,n,r){function o(e,t,n,r,o,i){i=i||"px";var a=e.style;isNaN(t)||(a.left=t+i),isNaN(n)||(a.top=n+i),r>=0&&(a.width=r+i),o>=0&&(a.height=o+i)}function i(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function a(e){return"border-box"==s.boxModel||"table"==e.tagName.toLowerCase()||i(e)}var s={};s.boxModel="content-box",e("ie")&&(s.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),s.getPadExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),i=r.toPixelValue,a=i(e,o.paddingLeft),s=i(e,o.paddingTop),c=i(e,o.paddingRight),u=i(e,o.paddingBottom);return{l:a,t:s,r:c,b:u,w:a+c,h:s+u}};var c="none";s.getBorderExtents=function(e,t){e=n.byId(e);var o=r.toPixelValue,i=t||r.getComputedStyle(e),a=i.borderLeftStyle!=c?o(e,i.borderLeftWidth):0,s=i.borderTopStyle!=c?o(e,i.borderTopWidth):0,u=i.borderRightStyle!=c?o(e,i.borderRightWidth):0,d=i.borderBottomStyle!=c?o(e,i.borderBottomWidth):0;return{l:a,t:s,r:u,b:d,w:a+u,h:s+d}},s.getPadBorderExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),i=s.getPadExtents(e,o),a=s.getBorderExtents(e,o);return{l:i.l+a.l,t:i.t+a.t,r:i.r+a.r,b:i.b+a.b,w:i.w+a.w,h:i.h+a.h}},s.getMarginExtents=function(e,t){e=n.byId(e);var o=t||r.getComputedStyle(e),i=r.toPixelValue,a=i(e,o.marginLeft),s=i(e,o.marginTop),c=i(e,o.marginRight),u=i(e,o.marginBottom);return{l:a,t:s,r:c,b:u,w:a+c,h:s+u}},s.getMarginBox=function(t,o){t=n.byId(t);var i,a=o||r.getComputedStyle(t),u=s.getMarginExtents(t,a),d=t.offsetLeft-u.l,l=t.offsetTop-u.t,f=t.parentNode,h=r.toPixelValue;return 8!=e("ie")||e("quirks")||f&&(i=r.getComputedStyle(f),d-=i.borderLeftStyle!=c?h(t,i.borderLeftWidth):0,l-=i.borderTopStyle!=c?h(t,i.borderTopWidth):0),{l:d,t:l,w:t.offsetWidth+u.w,h:t.offsetHeight+u.h}},s.getContentBox=function(t,o){t=n.byId(t);var i,a=o||r.getComputedStyle(t),u=t.clientWidth,d=s.getPadExtents(t,a),l=s.getBorderExtents(t,a),f=t.offsetLeft+d.l+l.l,h=t.offsetTop+d.t+l.t;if(u?i=t.clientHeight:(u=t.offsetWidth-l.w,i=t.offsetHeight-l.h),8==e("ie")&&!e("quirks")){var p,g=t.parentNode,m=r.toPixelValue;g&&(p=r.getComputedStyle(g),f-=p.borderLeftStyle!=c?m(t,p.borderLeftWidth):0,h-=p.borderTopStyle!=c?m(t,p.borderTopWidth):0)}return{l:f,t:h,w:u-d.w,h:i-d.h}},s.setContentSize=function(e,t,r){e=n.byId(e);var i=t.w,c=t.h;if(a(e)){var u=s.getPadBorderExtents(e,r);i>=0&&(i+=u.w),c>=0&&(c+=u.h)}o(e,0/0,0/0,i,c)};var u={l:0,t:0,w:0,h:0};return s.setMarginBox=function(t,c,d){t=n.byId(t);var l=d||r.getComputedStyle(t),f=c.w,h=c.h,p=a(t)?u:s.getPadBorderExtents(t,l),g=s.getMarginExtents(t,l);if(e("webkit")&&i(t)){var m=t.style;f>=0&&!m.width&&(m.width="4px"),h>=0&&!m.height&&(m.height="4px")}f>=0&&(f=Math.max(f-p.w-g.w,0)),h>=0&&(h=Math.max(h-p.h-g.h,0)),o(t,c.l,c.t,f,h)},s.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},s.docScroll=function(n){n=n||t.doc;var r=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=e("quirks")?t.body(n):n.documentElement)&&{x:s.fixIeBiDiScrollLeft(r.scrollLeft||0,n),y:r.scrollTop||0}},s.getIeDocumentElementOffset=function(){return{x:0,y:0}},s.fixIeBiDiScrollLeft=function(n,r){r=r||t.doc;var o=e("ie");if(o&&!s.isBodyLtr(r)){var i=e("quirks"),a=i?t.body(r):r.documentElement,c=t.global;return 6==o&&!i&&c.frameElement&&a.scrollHeight>a.clientHeight&&(n+=a.clientLeft),8>o||i?n+a.clientWidth-a.scrollWidth:-n}return n},s.position=function(r,o){r=n.byId(r);var i=t.body(r.ownerDocument),a=r.getBoundingClientRect();if(a={x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top},e("ie")<9&&(a.x-=e("quirks")?i.clientLeft+i.offsetLeft:0,a.y-=e("quirks")?i.clientTop+i.offsetTop:0),o){var c=s.docScroll(r.ownerDocument);a.x+=c.x,a.y+=c.y}return a},s.getMarginSize=function(e,t){e=n.byId(e);var o=s.getMarginExtents(e,t||r.getComputedStyle(e)),i=e.getBoundingClientRect();return{w:i.right-i.left+o.w,h:i.bottom-i.top+o.h}},s.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!("pageX"in t)){var n=t.target,r=n&&n.ownerDocument||document,o=e("quirks")?r.body:r.documentElement;t.pageX=t.clientX+s.fixIeBiDiScrollLeft(o.scrollLeft||0,r),t.pageY=t.clientY+(o.scrollTop||0)}},s});//# sourceMappingURL=dom-geometry.js.map