//>>built
define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(e,t,n,r,o,i,a,s,c){n.add("dojo-preload-i18n-Api",1);var u,d=e.i18n={},l=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,f=function(e,t,n,r){for(var o=[n+r],i=t.split("-"),a="",s=0;s<i.length;s++)a+=(a?"-":"")+i[s],(!e||e[a])&&(o.push(n+a+"/"+r),o.specificity=a);return o},h={},p=function(t,n,r){return r=r?r.toLowerCase():e.locale,t=t.replace(/\./g,"/"),n=n.replace(/\./g,"/"),/root/i.test(r)?t+"/nls/"+n:t+"/nls/"+r+"/"+n},m=e.getL10nName=function(e,t,n){return e=c.id+"!"+p(e,t,n)},g=function(e,t,n,r,o,a){e([t],function(s){var c=i.clone(s.root||s.ROOT),u=f(!s._v1x&&s,o,n,r);e(u,function(){for(var e=1;e<u.length;e++)c=i.mixin(i.clone(c),arguments[e]);var n=t+"/"+o;h[n]=c,c.$locale=u.specificity,a()})})},v=function(e,t){return/^\./.test(e)?t(e):e},y=function(e){var t=o.extraLocale||[];return t=i.isArray(t)?t:[t],t.push(e),t},b=function(t,o,a){var c=l.exec(t),u=c[1]+"/",d=c[5]||c[4],f=u+d,p=c[5]&&c[4],m=p||e.locale||"",v=f+"/"+m,b=p?[m]:y(m),_=b.length,w=function(){--_||a(i.delegate(h[v]))},x=t.split("*"),j="preload"==x[1];if(n("dojo-preload-i18n-Api")){if(j&&(h[t]||(h[t]=1,C(x[2],s.parse(x[3]),1,o)),a(1)),j||N(t,o,a)&&!h[v])return}else if(j)return void a(1);r.forEach(b,function(e){var t=f+"/"+e;n("dojo-preload-i18n-Api")&&T(t),h[t]?w():g(o,f,u,d,e,w)})},_=d.normalizeLocale=function(t){var n=t?t.toLowerCase():e.locale;return"root"==n?"ROOT":n},w=function(e,t){return!0},x=0,j=[],C=d._preloadLocalizations=function(n,o,a,s){function c(e,t){w(e,s)||a?s([e],t):A([e],t,s)}function u(e,t){for(var n=e.split("-");n.length;){if(t(n.join("-")))return;n.pop()}t("ROOT")}function d(){x++}function l(){for(--x;!x&&j.length;)b.apply(null,j.shift())}function f(e,t,n,r){return r.toAbsMid(e+t+"/"+n)}function p(e){e=_(e),u(e,function(a){if(r.indexOf(o,a)>=0){var p=n.replace(/\./g,"/")+"_"+a;return d(),c(p,function(n){function r(n,r,o,a){var c=[],p=[];u(e,function(e){a[e]&&(c.push(t.toAbsMid(n+e+"/"+r)),p.push(f(n,r,e,t)))}),c.length?(d(),s(c,function(){for(var a=c.length-1;a>=0;a--)o=i.mixin(i.clone(o),arguments[a]),h[p[a]]=o;h[f(n,r,e,t)]=i.clone(o),l()})):h[f(n,r,e,t)]=o}for(var o in n){var c,p,m=n[o],g=o.match(/(.+)\/([^\/]+)$/);if(g&&(c=g[2],p=g[1]+"/",m._localized)){var v;if("ROOT"===a){var y=v=m._localized;delete m._localized,y.root=m,h[t.toAbsMid(o)]=y}else v=m._localized,h[f(p,c,a,t)]=m;a!==e&&r(p,c,m,v)}}l()}),!0}return!1})}s=s||t,p(),r.forEach(e.config.extraLocale,p)},N=function(e,t,n){return x&&j.push([e,t,n]),x},T=function(){},k={},E={},A=function(e,t,n){var o=[];r.forEach(e,function(e){function t(t){u||(u=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},	   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"));var n=u(t,T,e,k);n===k?o.push(h[r]=k.result):(n instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+r,n),n={}),o.push(h[r]=/nls\/[^\/]+\/[^\/]+$/.test(r)?n:{root:n,_v1x:1}))}var r=n.toUrl(e+".js");if(h[r])o.push(h[r]);else{var i=n.syncLoadNls(e);if(i||(i=T(e.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1"))),i)o.push(i);else if(a)a.get({url:r,sync:!0,load:t,error:function(){o.push(h[r]={})}});else try{n.getText(r,!0,t)}catch(s){o.push(h[r]={})}}}),t&&t.apply(null,o)};return T=function(t){for(var n,r=t.split("/"),o=e.global[r[0]],i=1;o&&i<r.length-1;o=o[r[i++]]);return o&&(n=o[r[i]],n||(n=o[r[i].replace(/-/g,"_")]),n&&(h[t]=n)),n},d.getLocalization=function(e,n,r){var o,i=p(e,n,r);return E[i]?E[i]:(b(i,w(i,t)?t:function(e,n){A(e,n,t)},function(e){E[i]=e,o=e}),o)},i.mixin(d,{dynamic:!0,normalize:v,load:b,cache:h,getL10nName:m})});//# sourceMappingURL=i18n.js.map