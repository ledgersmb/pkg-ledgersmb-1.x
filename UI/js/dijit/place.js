//>>built
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,a,r,i,d,o){function l(r,o,l,n){var s=d.getEffectiveBox(r.ownerDocument);r.parentNode&&"body"==String(r.parentNode.tagName).toLowerCase()||i.body(r.ownerDocument).appendChild(r);var m=null;e.some(o,function(e){var a=e.corner,i=e.pos,d=0,o={w:{L:s.l+s.w-i.x,R:i.x-s.l,M:s.w}[a.charAt(1)],h:{T:s.t+s.h-i.y,B:i.y-s.t,M:s.h}[a.charAt(0)]},f=r.style;if(f.left=f.right="auto",l){var u=l(r,e.aroundCorner,a,o,n);d="undefined"==typeof u?0:u}var y=r.style,h=y.display,M=y.visibility;"none"==y.display&&(y.visibility="hidden",y.display="");var v=t.position(r);y.display=h,y.visibility=M;var c={L:i.x,R:i.x-v.w,M:Math.max(s.l,Math.min(s.l+s.w,i.x+(v.w>>1))-v.w)}[a.charAt(1)],g={T:i.y,B:i.y-v.h,M:Math.max(s.t,Math.min(s.t+s.h,i.y+(v.h>>1))-v.h)}[a.charAt(0)],p=Math.max(s.l,c),b=Math.max(s.t,g),w=Math.min(s.l+s.w,c+v.w),F=Math.min(s.t+s.h,g+v.h),k=w-p,I=F-b;return d+=v.w-k+(v.h-I),(null==m||d<m.overflow)&&(m={corner:a,aroundCorner:e.aroundCorner,x:p,y:b,w:k,h:I,overflow:d,spaceAvailable:o}),!d}),m.overflow&&l&&l(r,m.aroundCorner,m.corner,m.spaceAvailable,n);var f=m.y,u=m.x,y=i.body(r.ownerDocument);/relative|absolute/.test(a.get(y,"position"))&&(f-=a.get(y,"marginTop"),u-=a.get(y,"marginLeft"));var h=r.style;return h.top=f+"px",h.left=u+"px",h.right="auto",m}var n={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},s={at:function(t,a,r,i,d){var o=e.map(r,function(e){var t={corner:e,aroundCorner:n[e],pos:{x:a.x,y:a.y}};return i&&(t.pos.x+="L"==e.charAt(1)?i.x:-i.x,t.pos.y+="T"==e.charAt(0)?i.y:-i.y),t});return l(t,o,d)},around:function(i,d,o,n,s){function m(e,t){G.push({aroundCorner:e,corner:t,pos:{x:{L:F,R:F+I,M:F+(I>>1)}[e.charAt(1)],y:{T:k,B:k+E,M:k+(E>>1)}[e.charAt(0)]}})}var f;if("string"==typeof d||"offsetWidth"in d||"ownerSVGElement"in d){if(f=t.position(d,!0),/^(above|below)/.test(o[0])){var u=t.getBorderExtents(d),y=d.firstChild?t.getBorderExtents(d.firstChild):{t:0,l:0,b:0,r:0},h=t.getBorderExtents(i),M=i.firstChild?t.getBorderExtents(i.firstChild):{t:0,l:0,b:0,r:0};f.y+=Math.min(u.t+y.t,h.t+M.t),f.h-=Math.min(u.t+y.t,h.t+M.t)+Math.min(u.b+y.b,h.b+M.b)}}else f=d;if(d.parentNode)for(var v="absolute"==a.getComputedStyle(d).position,c=d.parentNode;c&&1==c.nodeType&&"BODY"!=c.nodeName;){var g=t.position(c,!0),p=a.getComputedStyle(c);if(/relative|absolute/.test(p.position)&&(v=!1),!v&&/hidden|auto|scroll/.test(p.overflow)){var b=Math.min(f.y+f.h,g.y+g.h),w=Math.min(f.x+f.w,g.x+g.w);f.x=Math.max(f.x,g.x),f.y=Math.max(f.y,g.y),f.h=b-f.y,f.w=w-f.x}"absolute"==p.position&&(v=!0),c=c.parentNode}var F=f.x,k=f.y,I="w"in f?f.w:f.w=f.width,E="h"in f?f.h:(r.deprecated("place.around: dijit/place.__Rectangle: { x:"+F+", y:"+k+", height:"+f.height+", width:"+I+" } has been deprecated.  Please use { x:"+F+", y:"+k+", h:"+f.height+", w:"+I+" }","","2.0"),f.h=f.height),G=[];e.forEach(o,function(e){var t=n;switch(e){case"above-centered":m("TM","BM");break;case"below-centered":m("BM","TM");break;case"after-centered":t=!t;case"before-centered":m(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":m(t?"TL":"TR",t?"TR":"TL"),m(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":m(t?"BL":"BR",t?"TL":"TR"),m(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":m(t?"TL":"TR",t?"BL":"BR"),m(t?"TR":"TL",t?"BR":"BL");break;default:m(e.aroundCorner,e.corner)}});var j=l(i,G,s,{w:I,h:E});return j.aroundNodePos=f,j}};return o.place=s});//# sourceMappingURL=place.js.map