//>>built
define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(e,t){return t||1})),has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,n){function r(e,i,a){t&&(e=t(a,e));var s,c=typeof e;if("number"==c)return isFinite(e)?e+"":"null";if("boolean"==c)return e+"";if(null===e)return"null";if("string"==typeof e)return escapeString(e);if("function"==c||"undefined"==c)return o;if("function"==typeof e.toJSON)return r(e.toJSON(a),i,a);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,n,r){var o=e["getUTC"+n]()+(r?1:0);return 10>o?"0"+o:o});if(e.valueOf()!==e)return r(e.valueOf(),i,a);var u=n?i+n:"",d=n?" ":"",l=n?"\n":"";if(e instanceof Array){var f=e.length,h=[];for(a=0;f>a;a++){var p=e[a];s=r(p,u,a),"string"!=typeof s&&(s="null"),h.push(l+u+s)}return"["+h.join(",")+l+i+"]"}var m=[];for(a in e){var g;if(e.hasOwnProperty(a)){if("number"==typeof a)g='"'+a+'"';else{if("string"!=typeof a)continue;g=escapeString(a)}if(s=r(e[a],u,a),"string"!=typeof s)continue;m.push(l+u+g+":"+d+s)}}return"{"+m.join(",")+l+i+"}"}var o;return"string"==typeof t&&(n=t,t=null),r(e,"","")}}});//# sourceMappingURL=json.js.map