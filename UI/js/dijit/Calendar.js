//>>built
define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(e,a,t,r,i,d,o,l,n,m,s,f,y,u,M,v,h){var c=r("dijit.Calendar",[y,u,M],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(e){l.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",e)},_createMonthWidget:function(){return new c._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:m.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments),this.own(s(this.domNode,"keydown",m.hitch(this,"_onKeyDown")),s(this.dateRowsNode,"mouseover",m.hitch(this,"_onDayMouseOver")),s(this.dateRowsNode,"mouseout",m.hitch(this,"_onDayMouseOut")),s(this.dateRowsNode,"mousedown",m.hitch(this,"_onDayMouseDown")),s(this.dateRowsNode,"mouseup",m.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(e){var a=new this.dateClassObj(this.currentFocus);a.setDate(1),a.setMonth(e);var t=this.dateModule.getDaysInMonth(a),r=this.currentFocus.getDate();a.setDate(Math.min(r,t)),this._setCurrentFocusAttr(a)},_onDayMouseOver:function(e){var a=d.contains(e.target,"dijitCalendarDateLabel")?e.target.parentNode:e.target;a&&(a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(d.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(e){if(this._currentNode&&(!e.relatedTarget||e.relatedTarget.parentNode!=this._currentNode)){var a="dijitCalendarHoveredDate";d.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),d.remove(this._currentNode,a),this._currentNode=null}},_onDayMouseDown:function(e){var a=e.target.parentNode;a&&a.dijitDateValue&&!d.contains(a,"dijitCalendarDisabledDate")&&(d.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(e){var a=e.target.parentNode;a&&a.dijitDateValue&&d.remove(a,"dijitCalendarActiveDate")},handleKey:function(e){var a,t=-1,r=this.currentFocus;switch(e.keyCode){case n.RIGHT_ARROW:t=1;case n.LEFT_ARROW:a="day",this.isLeftToRight()||(t*=-1);break;case n.DOWN_ARROW:t=1;case n.UP_ARROW:a="week";break;case n.PAGE_DOWN:t=1;case n.PAGE_UP:a=e.ctrlKey||e.altKey?"year":"month";break;case n.END:r=this.dateModule.add(r,"month",1),a="day";case n.HOME:r=new this.dateClassObj(r),r.setDate(1);break;default:return!0}return a&&(r=this.dateModule.add(r,a,t)),this._setCurrentFocusAttr(r),!1},_onKeyDown:function(e){this.handleKey(e)||(e.stopPropagation(),e.preventDefault())},onValueSelected:function(){},onChange:function(e){this.onValueSelected(e)},getClassForDate:function(){}});return c._MonthDropDownButton=r("dijit.Calendar._MonthDropDownButton",h,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments),this.dropDown=new c._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(e){var a=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,e);this.dropDown.set("months",a),this.containerNode.innerHTML=(6==f("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+a[e.getMonth()]+"</div>"}}),c._MonthDropDown=r("dijit.Calendar._MonthDropDown",[u,v,M],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"<div data-dojo-attach-event='ondijitclick:_onClick'></div>",_setMonthsAttr:function(a){this.domNode.innerHTML="",e.forEach(a,function(e,a){var t=o.create("div",{className:"dijitCalendarMonthLabel",month:a,innerHTML:e},this.domNode);t._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(e){this.onChange(i.get(e.target,"month"))},onChange:function(){}}),c});//# sourceMappingURL=Calendar.js.map