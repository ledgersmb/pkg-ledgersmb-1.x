//>>built
define("dojo/rpc/RpcService",["../_base/array","../_base/declare","../_base/Deferred","../_base/kernel","../_base/lang","../_base/url","../_base/xhr"],function(e,a,t,r,i,d,l){return a("dojo.rpc.RpcService",null,{constructor:function(e){if(e)if(i.isString(e)||e instanceof d){if(e instanceof d)var a=e+"";else a=e;var t=l.get({url:a,handleAs:"json-comment-optional",sync:!0});t.addCallback(this,"processSmd"),t.addErrback(function(){throw new Error("Unable to load SMD from "+e)})}else e.smdStr?this.processSmd(r.eval("("+e.smdStr+")")):(e.serviceUrl&&(this.serviceUrl=e.serviceUrl),this.timeout=e.timeout||0,"strictArgChecks"in e&&(this.strictArgChecks=e.strictArgChecks),this.processSmd(e))},strictArgChecks:!0,serviceUrl:"",parseResults:function(e){return e},errorCallback:function(e){return function(a){e.errback(a)}},resultCallback:function(e){return i.hitch(this,function(a){if(null!=a.error){var t;"object"==typeof a.error?(t=new Error(a.error.message),t.code=a.error.code,t.error=a.error.error):t=new Error(a.error),t.id=a.id,t.errorObject=a,e.errback(t)}else e.callback(this.parseResults(a))})},generateMethod:function(e,a,r){return i.hitch(this,function(){var d=new t;if(this.strictArgChecks&&null!=a&&arguments.length!=a.length)throw new Error("Invalid number of parameters for remote method.");return this.bind(e,i._toArray(arguments),d,r),d})},processSmd:function(a){a.methods&&e.forEach(a.methods,function(e){if(e&&e.name&&(this[e.name]=this.generateMethod(e.name,e.parameters,e.url||e.serviceUrl||e.serviceURL),!i.isFunction(this[e.name])))throw new Error("RpcService: Failed to create"+e.name+"()")},this),this.serviceUrl=a.serviceUrl||a.serviceURL,this.required=a.required,this.smd=a}})});//# sourceMappingURL=RpcService.js.map