//>>built
define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(e,t,a,i,r,d,o,n,l,s){return t("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var e=this.getParent();this._childOfLayoutWidget=e&&e.isLayoutContainer,this._needLayout=!this._childOfLayoutWidget,this.inherited(arguments),this._isShown()&&this._onShow(),this._childOfLayoutWidget||this.own(l.on("resize",d.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var e=[],t=!1;o("> *",this.containerNode).some(function(a){var i=n.byNode(a);i&&i.resize?e.push(i):!/script|link|style/i.test(a.nodeName)&&a.offsetHeight&&(t=!0)}),this._singleChild=1!=e.length||t?null:e[0],a.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(e,t){this._resizeCalled=!0,this._scheduleLayout(e,t)},_scheduleLayout:function(e,t){this._isShown()?this._layout(e,t):(this._needLayout=!0,this._changeSize=e,this._resultSize=t)},_layout:function(e,t){delete this._needLayout,this._wasShown||this.open===!1||this._onShow(),e&&i.setMarginBox(this.domNode,e);var a=this.containerNode;if(a===this.domNode){var r=t||{};d.mixin(r,e||{}),"h"in r&&"w"in r||(r=d.mixin(i.getMarginBox(a),r)),this._contentBox=s.marginBox2contentBox(a,r)}else this._contentBox=i.getContentBox(a);this._layoutChildren()},_layoutChildren:function(){if(this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){var e=this._contentBox||i.getContentBox(this.containerNode);this._singleChild.resize({w:e.w,h:e.h})}else for(var t,a=this.getChildren(),r=0;t=a[r++];)t.resize&&t.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var e=this.domNode,t=this.domNode.parentNode;return"none"!=e.style.display&&"hidden"!=e.style.visibility&&!a.contains(e,"dijitHidden")&&t&&t.style&&"none"!=t.style.display},_onShow:function(){this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),this.inherited(arguments)}})});//# sourceMappingURL=_ContentPaneResizeMixin.js.map