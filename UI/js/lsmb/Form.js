//>>built
define("lsmb/Form",["dijit/form/Form","dojo/_base/declare","dojo/_base/event","dojo/on","dojo/hash","dojo/dom-attr","dojo/dom-form","dojo/query","dijit/registry"],function(e,t,a,i,r,d,o,n,l){var s=0;return t("lsmb/Form",[e],{clickedAction:null,startup:function(){var e=this;this.inherited(arguments),n('input[type="submit"]',this.domNode).forEach(function(t){i(t,"click",function(){e.clickedAction=d.get(t,"value")})})},onSubmit:function(e){a.stop(e),this.submit()},submit:function(){if(this.validate()){var e="undefined"==typeof this.method?"GET":this.method,t=this.action,a={handleAs:"text"};if("get"===e.toLowerCase()){if(!t)return alert("Form contains no action. Please file a bug"),!1;s++;var i=o.toQuery(this.domNode);i="action="+this.clickedAction+"&"+i,t=t+"?"+i+"#"+s.toString(16),r(t)}else a.method=e,"multipart/form-data"==this.domNode.enctype?(a.data=new FormData(this.domNode),a.data.append("action",this.clickedAction)):a.data="action="+this.clickedAction+"&"+o.toQuery(this.domNode),l.byId("maindiv").load_form(t,a)}}})});//# sourceMappingURL=Form.js.map