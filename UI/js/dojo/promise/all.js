//>>built
define("dojo/promise/all",["../_base/array","../_base/lang","../Deferred","../when"],function(e,a,t,r){"use strict";var i=e.some;return function(e){var d,l;a.isArray(e)?l=e:e&&"object"==typeof e&&(d=e);var o,n=[];if(d){l=[];for(var m in d)Object.hasOwnProperty.call(d,m)&&(n.push(m),l.push(d[m]));o={}}else l&&(o=[]);if(!l||!l.length)return(new t).resolve(o);var s=new t;s.promise.always(function(){o=n=null});var f=l.length;return i(l,function(e,a){return d||n.push(a),r(e,function(e){s.isFulfilled()||(o[n[a]]=e,0===--f&&s.resolve(o))},s.reject),s.isFulfilled()}),s.promise}});//# sourceMappingURL=all.js.map